<div id="product-page"class="container prod-grid">

  <div id="carouselExampleControls" class="carousel slide carousel-style" data-ride="carousel">
    <div class="carousel-inner">

      {% for image in product.images %}
        <div class="{% if image.alt == 'featured' %} carousel-item active {% else %} carousel-item {%endif%}">
          <img class="d-block w-100" src="{{ image.src | img_url: 'large' }}" alt="{{ image.alt | escape }}">
        </div>
      {% endfor %}
    </div>

  {% assign current_variant = product.selected_or_first_available_variant %}

  {% assign featured_image = current_variant.featured_image | default: product.featured_image %}

  {% unless product.available %}
    {% assign no_stock_button_class = add-to-cart-form_button--no-stock%}
  {% endunless %}

  <img src="{{ featured_image | img_url: 'large' }}" alt="{{ featured_image.alt | escape }}" id="ProductPhotoImg">

  {% for image in product.images %}

    <a href="{{ image.src | img_url: 'large' }}">
      <img src="{{ image.src | img_url: 'compact' }}" alt="{{ image.alt | escape }}">
    </a>

  {% endfor %}
  <div>
    <h1>{{ product.title }}</h1>
  </div>


 <!-- javascript -->
   {% assign product_quantity = product.variants[0].inventory_quantity %}

    <div class='prod-quantity' style="display: none;">{{ product.variants[0].inventory_quantity }}</div>

    {% if cart.item_count > 0 %}
      <div class='cart-quantity' style="display: none;" data-quantity="{{ cart.item_count }}">{{ cart.item_count }} {{ cart.item_count | pluralize: 'item', 'items' }}</div>
      <div class='cart-data' style="display: none;">
      {% for item in cart.items %}
       <p class='cart-items'>{{ item.title }} | Quantity: {{ item.quantity }}</p>
      {% endfor %}
        <p class='cart-total-price'>Total: {{ cart.total_price | money }}</p>
      </div>
    {% else %}
      <div class='cart-data' style="display: none;" data-quantity="{{ cart.item_count }}">
      <p class='cart-quantity'>No items</p>
      </div>
    {% endif %}

  <div>
    <form action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
      <select name="id" id="productSelect">
        {% for variant in product.variants %}
          {% if variant.available %}

            <option value="{{ variant.id }}">
              {{ variant.title }} - {{ variant.price | money_with_currency }}
            </option>

          {% else %}

            <option disabled="disabled">
              {{ variant.title }} - sold out
            </option>

          {% endif %}
        {% endfor %}
      </select>

      {{ current_variant.price | money }}
      <label for="Quantity">Quantity</label>
      <input type="number" id="Quantity" name="quantity" value="1" min="1" class="">

      {% if product.available %}

        <button type="submit" name="add" id="AddToCart" class="add-to-cart-form_button">Add to cart</button>

      {% else %}

        <button type="submit" name="add" id="AddToCart" class="add-to-cart-form_button add-to-cart-form_button--no-stock">Add to cart</button>

      {% endif %}
    </form>

    <div>{{ product.description }}</div>
    {{ 'add_to_cart.js' | asset_url | script_tag }}
  </div>
</div>
